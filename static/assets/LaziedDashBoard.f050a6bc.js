var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,n=Object.getOwnPropertySymbols,r=Object.prototype.propertyIsEnumerable,a=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,i=(e,i)=>{for(var o in i||(i={}))t.call(i,o)&&a(e,o,i[o]);if(n)for(var o of n(i))r.call(i,o)&&a(e,o,i[o]);return e};import{B as o,A as s,a as l,b as c,c as p,d,e as h,f as m,g as f}from"./react-icons.f4c509b7.js";import{a as x,f as u,i as g,j as b,u as y,T as w,k as j,W as S,C as v,H as M,l as C,b as z,I as k,V as O,B as E,m as W,P as D,n as I,o as L,p as A,q as B,r as V,s as Z}from"./@chakra-ui.cfa332ef.js";import{u as _}from"./useStore.e8681226.js";import{C as G}from"./react.feb47304.js";import{u as P,b as F}from"./react-query.72d918e7.js";import{A as T,_ as R}from"./index.9bc45dda.js";import{F as H}from"./fuse.js.c1e3c562.js";import{i as q}from"./selectors.bfa9f547.js";import{f as N}from"./date-fns.43a69caf.js";import{L as Q}from"./react-router-dom.aa0ec8dc.js";import{b as J,a as K,M as U,R as X,d as Y}from"./react-router.5e3691f3.js";import"./@emotion.7a460b2b.js";import"./hoist-non-react-statics.da991e8f.js";import"./react-is.e06272e7.js";import"./@babel.dc43f2d2.js";import"./stylis.bb1903e3.js";import"./lodash.mergewith.bcbf3e94.js";import"./react-dom.f1d739b1.js";import"./object-assign.854adb70.js";import"./scheduler.c13aab76.js";import"./prop-types.9471ffa6.js";import"./@popperjs.a8a4a6a0.js";import"./framer-motion.d103fb6e.js";import"./tslib.2bd10da0.js";import"./style-value-types.558ea47d.js";import"./popmotion.7b246e2b.js";import"./hey-listen.45400d5c.js";import"./framesync.9f9facff.js";import"./react-fast-compare.003997d8.js";import"./@ctrl.afc734ac.js";import"./zustand.a3e6d7ee.js";import"./react-hot-toast.9d58ff23.js";import"./axios.6b29e171.js";import"./focus-visible.a1c41e60.js";import"./history.b73326bc.js";function $(e){return x(u,{display:"flex",justifyContent:"center",w:"100%",children:[x(g,i(i({maxW:"50px",w:"100%",fontSize:70,fill:"none",viewBox:"0 0 42 43"},e),{children:[b("path",{fill:"#3F3D56",d:"M32 2a1 1 0 1 0 0-1 1 1 0 0 0 0 1ZM32 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM41 12a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"}),b("path",{fill:"#3F3D56",d:"m39 15-1-1c-2 2-5 0-5 0-2 1-3-2-3-2-3-1-3-4-3-4l-1-3 1-1-1-2A20 20 0 0 0 0 22a20 20 0 1 0 40-7h-1Z"}),b("path",{fill:"#3F3D56",d:"m38 15-2-1c-1 2-4 0-4 0-2 1-3-2-3-2-3-1-2-3-2-3-2-1-1-3-1-3V3A19 19 0 0 0 1 21a19 19 0 1 0 37-6Z"}),b("path",{fill:"#F9A109",d:"M18 13s-3-2-7 0l-2 3c0 2 0 4 2 6l7 9a2 2 0 0 0 3 0l5-9 2-5-4-5s-3-1-6 1Z"}),b("path",{fill:"#000",d:"M18 13s-3-2-7 0l-2 3c0 2 0 4 2 6l7 9a2 2 0 0 0 3 0l5-9 2-5-4-5s-3-1-6 1Z",opacity:".1"}),b("path",{fill:"#F9A109",d:"M18 14s-3-2-6 0l-2 3 1 5 7 8a2 2 0 0 0 2 1 2 2 0 0 0 1-1l5-8 1-5c0-2-1-4-3-4 0 0-3-1-6 1Z"}),b("path",{fill:"#000",d:"M18 17h-3l-1 2a3 3 0 0 0 1 2l4 5 3-5v-2l-1-2h-3ZM9 25l1 2v3l1 1-1 1 1 1M29 18v3l-1 1 1 2v1h1l1 1v1M37 20h-1l-1 1v1M32 16v2M33 28l-1 2-1 1v3M25 4h-2l-1 1-2 1-1 1-2 1v1M9 7 8 9v1l-1 1-1 2H5l1 2M4 16l-1 2 1 1v2l-1 4 1 1 1 1M6 17l1 1v2l1-1 1 1M21 36h3l1-1h1M8 33v1h2l1 1v1M24 28l1-1 1-1h1v-1",opacity:".1"})]}))," "]})}function ee(e){const t=_((e=>e.list.length)),n=_((e=>e.toggleSideBar));_((e=>e.isSideBar));const r=y();return console.log(n),x(u,{position:"relative",w:"60px",children:[b(w,{justifyContent:"center",alignItems:"center",fontSize:"xs",rounded:"5px",w:"19px",h:"19px",bgColor:"brand.lightRed",color:"white",display:"inline-flex",position:"absolute",zIndex:1,left:10,right:0,children:t}),b(j,i({rounded:"20px",h:"44px",fontSize:"18px",m:"10px",p:"10px",fill:"white",as:o,onClick:"sm"==r||"base"==r?n:()=>{},bgColor:"brand.lightOrange"},e))]})}const te=e=>{const t=P("category",(async()=>await T.get("/items").then((e=>e)).catch((e=>{throw new Error(e)}))),{refetchOnMount:!1});if(t.isLoading)return t;if(t.isError)throw console.error(t.error),new Error(t.error);const n=e.trim()?((e,t)=>{const n={isCaseSensitive:!1,minMatchCharLength:t.length,shouldSort:!0,includeScore:!0,location:1,findAllMatches:!0,keys:["name"]};let r=new H(e,n).search(t);return r=r.map((e=>e.item)),r})(t.data.items,e):t.data.items,r={};return n.forEach((e=>{r[e.category.name]?r[e.category.name].push(e):r[e.category.name]=[e]})),t.data=r,t};function ne({item:e}){const t=_(q);return b(S,{children:x(v,{display:"flex",rounded:"10px",mb:"25px",bg:"white",minW:"30%",height:"30px",minHeight:"30px",py:"25px",justifyContent:"space-between",sx:{boxShadow:"0px 0px 15px -7px rgba(0,0,0,0.48)"},children:[b(w,{fontSize:"15px",ml:"12px",fontWeight:"550",color:"black",children:e.name}),b(j,{onClick:()=>t(e),m:"0px",fontSize:"20px",bg:"transparent",color:"brand.darkGray","aria-label":"Search database",icon:b(s,{})})]},e.id)})}function re({searchValue:e}){const t=te(e);return t.isLoading?"loading...":b(u,{mt:"30pt",children:Object.keys(t.data).map((e=>x(u,{children:[b(M,{mb:"20px",fontWeight:"600",fontSize:"1xl",children:e}),b(C,{w:{sm:"100%",md:"80%",lg:"95%"},spacing:"16px",children:t.data[e].map((e=>b(ne,{item:e},e.id)))})]},e)))})}function ae({searchValue:e,setSearchValue:t}){const n=F();return x(z,{h:"max-content",flexWrap:"wrap",justifyContent:"space-between",w:"80%",children:[x(M,{w:{xl:"50%",md:"50%",sm:"100%"},as:"h1",size:"md",fontWeight:"600",children:[x(w,{display:"inline",color:"brand.lightOrange",children:["Shoppingify"," "]}),"allows you to take your shopping list whereever you go"]}),x(u,{as:"form",onSubmit:e=>{e.preventDefault()},display:"flex",rounded:10,boxShadow:"sm",justifyContent:"",maxW:"90%",h:"40px",bg:"white",children:[b(j,{type:"submit","aria-label":"Search database",icon:b(l,{}),bg:"transparent",fontSize:"20px"}),b(k,{value:e,p:0,onChange:e=>{t(e.target.value),n.invalidateQueries("category")},placeholder:"search items",fontSize:"12px",w:"200px",maxLength:8,variant:"unstyled"})]})]})}function ie(){const[e,t]=G.useState("");return x(z,{bg:"brand.lightGray",display:"flex",h:"100%",w:"100%",flexDirection:"column",children:[b(ae,{searchValue:e,setSearchValue:t}),b(re,{searchValue:e})]})}function oe({props:e}){return b(u,{children:b(g,i({fill:"brand.darkGray",fontSize:"20px",as:c,bgColor:"white"},e))})}function se({props:e}){return b(u,{children:b(g,i({fill:"brand.lightOrange",fontSize:"20px",as:p,bgColor:"white"},e))})}function le({lists:e}){return b(O,{my:"20px",spacing:"20px",w:"100%",h:"100%",display:"flex",alignItems:"start",children:e.map((e=>{const t=null==e?void 0:e.completed;return x(u,{sx:{boxShadow:"0px 0px 12px -9px rgba(0,0,0,0.48)"},display:"flex",justifyContent:"space-between",alignItems:"center",rounded:"10px",h:"55px",p:"15px",w:"100%",bg:"white",children:[b(w,{textTransform:"capitalize",fontSize:"16px",fontWeight:"600",children:e.name}),x(u,{display:"flex",justifyContent:"space-around",w:"30%",h:"15px",children:[b(oe,{}),b(w,{color:"brand.darkGray",fontSize:"70%",children:N(new Date(e.createdAt),"EEE\n                d'.'MM'.'yyy")}),b(u,{px:"2px",display:"flex",alignItems:"center",rounded:"5px",h:"20px",border:"1px",color:t?"lightBlue":"brand.lightRed",borderColor:t?"lightBlue":"brand.lightRed",fontSize:"10px",children:t?"completed":"uncompleted"}),b(Q,{state:e,to:"/viewlist",children:b(se,{})})]})]})}))})}function ce({item:e}){return b(S,{children:x(v,{display:"flex",rounded:"10px",bg:"white",width:"170px",minHeight:"30px",height:"52px",justifyContent:"space-between",px:"15px",sx:{boxShadow:"0px 0px 12px -7px rgba(0,0,0,0.48)"},children:[b(w,{w:"80px",fontSize:"15px",fontWeight:"550",color:"black",children:e.name}),x(w,{fontSize:"14px",color:"brand.lightOrange",children:[e.amount," pcs"]})]})})}function pe({Items:e}){return b(C,{spacing:"20px",children:e.map((({item:e,amount:t})=>b(ce,{item:i(i({},e),{amount:t})},e.id)))})}function de({list:e}){const t={};return e.forEach((e=>{t[e.item.category.name]?t[e.item.category.name].push(e):t[e.item.category.name]=[e]})),x(u,{mt:"50px",children:[b(O,{alignItems:"start",children:Object.keys(t).map((e=>x(u,{mb:"20px",children:[b(w,{mb:"20px",fontWeight:"600",children:e}),b(pe,{Items:t[e]})]})))})," "]})}function he(){const{state:e}=J(),t=K();return Object.keys(e||{}).length?x(u,{w:"100%",children:[x(E,{display:"inline-flex",variant:"unstyled",w:"60px",color:"brand.lightOrange",bg:"transparent",onClick:()=>t("/"),children:[b(d,{}),b(w,{mt:"-2px",pl:"5px",children:"back"})]}),x(u,{mt:"10px",children:[b(M,{fontWeight:"550",textTransform:"capitalize",children:e.name}),x(u,{display:"flex",justifyContent:"start",maxW:"20%",h:"15px",my:"20px",children:[b(oe,{}),b(w,{ml:"10px",w:"100px",color:"brand.darkGray",fontSize:"12px",children:N(new Date(e.createdAt),"E d'.'MM'.'yyy")})]})]}),b(u,{children:b(de,{list:e.list})})]}):x(u,{children:[b(u,{w:"100%",children:x(E,{color:"brand.lightOrange",bg:"transparent",onClick:()=>t("/"),children:[b(d,{}),b(w,{mt:"-2px",pl:"5px",children:"back"})]})}),b(w,{children:"No List has been selected"})]})}const me=()=>{const e=function(){const e=P("lists",(async()=>(await T.get("/lists").then((e=>e)).catch((e=>{throw new Error(e)}))).data),{refetchOnMount:!1}),t={};return e.isLoading||(e.data.lists.forEach((e=>{const n=N(new Date(e.createdAt),"MMMM yyy");t[n]?t[n].push(e):t[n]=[e]})),e.data.datedList=t),e}();if(e.isLoading)return b(u,{children:"Loading ..."});const t=Object.keys(e.data.datedList);return x(z,{w:"80%",flexDir:"column",alignItems:"start",justifyContent:"start",children:[b(M,{fontWeight:"600",fontSize:"30px",w:"88%",display:"flex",children:"Shopping history"}),b(O,{mt:"45px",w:"100%",display:"flex",alignItems:"start",children:t.map((t=>x(u,{w:"100%",children:[b(w,{fontSize:"13px",fontWeight:"600",children:t}),b(le,{lists:e.data.datedList[t]})]})))})]})};function fe(){return b(U,{children:x(X,{children:[b(Y,{path:"/",element:b(me,{})}),b(Y,{path:"/viewlist",element:b(he,{})})]})})}function xe(){return b(u,{flexDir:"column",alignItems:"start",display:"flex",h:"100%",w:"100%",children:b(fe,{})})}const ue=G.lazy((()=>R((()=>__import__("./LaziedChart.3f2d7d81.js")),["/assets/LaziedChart.3f2d7d81.js","/assets/@chakra-ui.cfa332ef.js","/assets/react.feb47304.js","/assets/object-assign.854adb70.js","/assets/@emotion.7a460b2b.js","/assets/hoist-non-react-statics.da991e8f.js","/assets/react-is.e06272e7.js","/assets/@babel.dc43f2d2.js","/assets/stylis.bb1903e3.js","/assets/lodash.mergewith.bcbf3e94.js","/assets/react-dom.f1d739b1.js","/assets/scheduler.c13aab76.js","/assets/prop-types.9471ffa6.js","/assets/@popperjs.a8a4a6a0.js","/assets/framer-motion.d103fb6e.js","/assets/tslib.2bd10da0.js","/assets/style-value-types.558ea47d.js","/assets/popmotion.7b246e2b.js","/assets/hey-listen.45400d5c.js","/assets/framesync.9f9facff.js","/assets/react-fast-compare.003997d8.js","/assets/@ctrl.afc734ac.js","/assets/date-fns.43a69caf.js","/assets/recharts.ef0cbde0.js","/assets/lodash.4f5d09b0.js","/assets/classnames.2ba19924.js","/assets/react-resize-detector.21e25a82.js","/assets/resize-observer-polyfill.6f0a07e6.js","/assets/lodash.debounce.f7746772.js","/assets/lodash.throttle.4e7c07b3.js","/assets/react-smooth.bb917a2b.js","/assets/fast-equals.145307fb.js","/assets/raf.d56cbbce.js","/assets/performance-now.51656d9e.js","/assets/d3-shape.a52f2478.js","/assets/d3-path.cb64bdd6.js","/assets/reduce-css-calc.069f3099.js","/assets/postcss-value-parser.cb556472.js","/assets/css-unit-converter.49580e2d.js","/assets/recharts-scale.26b37e2b.js","/assets/decimal.js-light.96ae36a9.js","/assets/d3-scale.af2dfcc9.js","/assets/d3-array.f6d492d3.js","/assets/d3-interpolate.f667563f.js","/assets/d3-color.a7c99788.js","/assets/d3-format.297807b8.js","/assets/d3-time-format.062f64a5.js","/assets/d3-time.839af223.js","/assets/eventemitter3.1a6d93de.js"])));function ge(e){return b(G.Suspense,{fallback:b(u,{w:"100%",children:"Loading..."}),children:b(ue,i({},e))})}function be({categories:e}){const t=W({base:"100%",sm:"100%",lg:"45%"});return x(z,{mt:"5px ",flexDir:"column",w:t,children:[b(w,{fontWeight:"600",fontSize:"22px",children:"Top Categories"}),b(O,{mt:"10px",spacing:"20px",children:e.categories.map((({_id:t,count:n,category:r})=>x(z,{w:"100%",flexDir:"column",children:[x(z,{justifyContent:"space-between",children:[x(w,{children:[r.name," "]})," ",x(w,{children:[Math.round(n/e.categoriesAmount*100),"%"," "]})]}),b(D,{colorScheme:"ProgressCategories",mt:"10px",rounded:"50px",size:"sm",h:"6px",value:Math.round(n/e.categoriesAmount*100)})]},t)))})]})}function ye({items:e}){const t=W({base:"100%",lg:"45%"});return x(z,{mt:"5px ",flexDir:"column",w:t,children:[b(w,{fontWeight:"600",fontSize:"22px",children:"Top Items"}),b(O,{mt:"10px",spacing:"20px",children:e.items.map((({_id:t,count:n,item:r})=>x(z,{w:"100%",flexDir:"column",children:[x(z,{justifyContent:"space-between",children:[x(w,{children:[r.name," "]})," ",x(w,{children:[Math.round(n/e.itemsAmount*100),"% "]})]}),b(D,{colorScheme:"ProgressItems",mt:"10px",rounded:"50px",size:"sm",h:"6px",value:Math.round(n/e.itemsAmount*100)})]},t)))})]})}function we(){const e=W({base:"200px",xs:"200px",sm:"200px",md:"200px",lg:"15px"}),t=P("stats",(async()=>(await T.get("/stats").then((e=>e)).catch((e=>{throw new Error(e)}))).data),{refetchOnMount:!1});return t.isLoading?b(w,{children:"Loading..."}):x(z,{justifyContent:"start",alignItems:"start",flexWrap:"wrap",flexDir:"column",h:"100%",w:"80%",children:[x(z,{flexWrap:"wrap",justifyContent:"space-between",h:"220px",w:"100%",mb:e,children:[b(ye,{items:t.data.items}),b(be,{categories:t.data.categories})]}),b(z,{mt:"20px",h:"500%",w:"100%",children:b(ge,{itemsByMonths:t.data.itemsByMonths})})]})}function je(){return x(I,{bg:"brand.lightGray",w:"100%",ml:"100px",children:[b(L,{children:b(ie,{})}),b(L,{children:b(xe,{})}),b(L,{children:b(we,{})})]})}function Se(){const e=W({base:"80%",xs:"65%",sm:"65%",md:"65%",lg:"64%",xl:"75%"});return x(A,{display:e,justifyContent:"space-between",w:e,h:"100% ",variant:"line",orientation:"vertical",colorScheme:"orange",bg:"brand.lightGray",isLazy:!0,children:[x(B,{display:"flex",position:"fixed",alignItems:"center",justifyContent:"space-between",flexDirection:"column",h:"100%",w:"80px",bg:"white",children:[b($,{w:11/12}),x(u,{display:"flex",justifyContent:"space-between",flexDirection:"column",children:[b(ve,{name:"items",svgElement:h}),b(ve,{name:"history",svgElement:m}),b(ve,{name:"Statistics",svgElement:f})]}),b(ee,{})]}),b(je,{})]})}const ve=({svgElement:e,name:t})=>b(V,{my:"10px",children:b(Z,{hasArrow:!0,placement:"right",label:t,"aria-label":"A tooltip",children:b("span",{children:b(g,{fill:"black",fontSize:"30px",as:e})})})});export default Se;
