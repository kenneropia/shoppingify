import{a as n,_ as r,c as t}from"./tslib.2bd10da0.js";import{i as e}from"./hey-listen.45400d5c.js";import{i as o,r as a,j as i,c as u,e as f}from"./style-value-types.558ea47d.js";import{s,c as v,g as c}from"./framesync.9f9facff.js";var p=function(n,r,t){return Math.min(Math.max(t,n),r)};function d(n){var r,t,e=n.duration,o=void 0===e?800:e,a=n.bounce,i=void 0===a?.25:a,u=n.velocity,f=void 0===u?0:u,s=n.mass,v=void 0===s?1:s,c=1-i;c=p(.05,1,c),o=p(.01,10,o/1e3),c<1?(r=function(n){var r=n*c,t=r*o;return.001-(r-f)/l(n,c)*Math.exp(-t)},t=function(n){var t=n*c*o,e=t*f+f,a=Math.pow(c,2)*Math.pow(n,2)*o,i=Math.exp(-t),u=l(Math.pow(n,2),c);return(.001-r(n)>0?-1:1)*((e-a)*i)/u}):(r=function(n){return Math.exp(-n*o)*((n-f)*o+1)-.001},t=function(n){return Math.exp(-n*o)*(o*o*(f-n))});var d=function(n,r,t){for(var e=t,o=1;o<12;o++)e-=n(e)/r(e);return e}(r,t,5/o);if(o*=1e3,isNaN(d))return{stiffness:100,damping:10,duration:o};var h=Math.pow(d,2)*v;return{stiffness:h,damping:2*c*Math.sqrt(v*h),duration:o}}function l(n,r){return n*Math.sqrt(1-r*r)}var h=["duration","bounce"],m=["stiffness","damping","mass"];function y(n,r){return r.some((function(r){return void 0!==n[r]}))}function M(t){var e=t.from,o=void 0===e?0:e,a=t.to,i=void 0===a?1:a,u=t.restSpeed,f=void 0===u?2:u,s=t.restDelta,v=n(t,["from","to","restSpeed","restDelta"]),c={done:!1,value:o},p=function(n){var t=r({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},n);if(!y(n,m)&&y(n,h)){var e=d(n);(t=r(r(r({},t),e),{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(v),M=p.stiffness,x=p.damping,b=p.mass,w=p.velocity,A=p.duration,D=p.isResolvedFromDuration,T=g,j=g;function q(){var n=w?-w/1e3:0,r=i-o,t=x/(2*Math.sqrt(M*b)),e=Math.sqrt(M/b)/1e3;if(null!=s||(s=Math.abs(i-o)<=1?.01:.4),t<1){var a=l(e,t);T=function(o){var u=Math.exp(-t*e*o);return i-u*((n+t*e*r)/a*Math.sin(a*o)+r*Math.cos(a*o))},j=function(o){var i=Math.exp(-t*e*o);return t*e*i*(Math.sin(a*o)*(n+t*e*r)/a+r*Math.cos(a*o))-i*(Math.cos(a*o)*(n+t*e*r)-a*r*Math.sin(a*o))}}else if(1===t)T=function(t){return i-Math.exp(-e*t)*(r+(n+e*r)*t)};else{var u=e*Math.sqrt(t*t-1);T=function(o){var a=Math.exp(-t*e*o),f=Math.min(u*o,300);return i-a*((n+t*e*r)*Math.sinh(f)+u*r*Math.cosh(f))/u}}}return q(),{next:function(n){var r=T(n);if(D)c.done=n>=A;else{var t=1e3*j(n),e=Math.abs(t)<=f,o=Math.abs(i-r)<=s;c.done=e&&o}return c.value=c.done?i:r,c},flipTarget:function(){var n;w=-w,o=(n=[i,o])[0],i=n[1],q()}}}M.needsInterpolation=function(n,r){return"string"==typeof n||"string"==typeof r};var g=function(n){return 0},x=function(n,r,t){var e=r-n;return 0===e?1:(t-n)/e},b=function(n,r,t){return-t*n+t*r+n},w=function(n,r,t){var e=n*n,o=r*r;return Math.sqrt(Math.max(0,t*(o-e)+e))},A=[o,a,i],D=function(n){return A.find((function(r){return r.test(n)}))},T=function(n,t){var o=D(n),a=D(t);e(o.transform===a.transform);var u=o.parse(n),f=a.parse(t),s=r({},u),v=o===i?b:w;return function(n){for(var r in s)"alpha"!==r&&(s[r]=v(u[r],f[r],n));return s.alpha=b(u.alpha,f.alpha,n),o.transform(s)}},j=function(n){return"number"==typeof n},q=function(n,r){return function(t){return r(n(t))}},R=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.reduce(q)};function S(n,r){return j(n)?function(t){return b(n,r,t)}:f.test(n)?T(n,r):F(n,r)}var C=function(n,r){var e=t([],n),o=e.length,a=n.map((function(n,t){return S(n,r[t])}));return function(n){for(var r=0;r<o;r++)e[r]=a[r](n);return e}},U=function(n,t){var e=r(r({},n),t),o={};for(var a in e)void 0!==n[a]&&void 0!==t[a]&&(o[a]=S(n[a],t[a]));return function(n){for(var r in o)e[r]=o[r](n);return e}};function P(n){for(var r=u.parse(n),t=r.length,e=0,o=0,a=0,i=0;i<t;i++)e||"number"==typeof r[i]?e++:void 0!==r[i].hue?a++:o++;return{parsed:r,numNumbers:e,numRGB:o,numHSL:a}}var F=function(n,r){var t=u.createTransformer(r),e=P(n),o=P(r);return R(C(e.parsed,o.parsed),t)},O=function(n,r){return function(t){return b(n,r,t)}};function k(n,r,t){for(var e,o=[],a=t||("number"==typeof(e=n[0])?O:"string"==typeof e?f.test(e)?T:F:Array.isArray(e)?C:"object"==typeof e?U:void 0),i=n.length-1,u=0;u<i;u++){var s=a(n[u],n[u+1]);if(r){var v=Array.isArray(r)?r[u]:r;s=R(v,s)}o.push(s)}return o}function z(n,r,t){var o=void 0===t?{}:t,a=o.clamp,i=void 0===a||a,u=o.ease,f=o.mixer,s=n.length;e(s===r.length),e(!u||!Array.isArray(u)||u.length===s-1),n[0]>n[s-1]&&(n=[].concat(n),r=[].concat(r),n.reverse(),r.reverse());var v=k(r,u,f),c=2===s?function(n,r){var t=n[0],e=n[1],o=r[0];return function(n){return o(x(t,e,n))}}(n,v):function(n,r){var t=n.length,e=t-1;return function(o){var a=0,i=!1;if(o<=n[0]?i=!0:o>=n[e]&&(a=e-1,i=!0),!i){for(var u=1;u<t&&!(n[u]>o||u===e);u++);a=u-1}var f=x(n[a],n[a+1],o);return r[a](f)}}(n,v);return i?function(r){return c(p(n[0],n[s-1],r))}:c}var N,I=function(n){return function(r){return 1-n(1-r)}},B=function(n){return function(r){return r<=.5?n(2*r)/2:(2-n(2*(1-r)))/2}},G=function(n){return function(r){return r*r*((n+1)*r-n)}},H=function(n){return n},L=(N=2,function(n){return Math.pow(n,N)}),_=I(L),E=B(L),J=function(n){return 1-Math.sin(Math.acos(n))},K=I(J),Q=B(K),V=G(1.525),W=I(V),X=B(V),Y=function(n){var r=G(n);return function(n){return(n*=2)<1?.5*r(n):.5*(2-Math.pow(2,-10*(n-1)))}}(1.525),Z=function(n){if(1===n||0===n)return n;var r=n*n;return n<.36363636363636365?7.5625*r:n<.7272727272727273?9.075*r-9.9*n+3.4:n<.9?12.066481994459833*r-19.63545706371191*n+8.898060941828255:10.8*n*n-20.52*n+10.72},$=I(Z),nn=function(n){return n<.5?.5*(1-Z(1-2*n)):.5*Z(2*n-1)+.5};function rn(n,r){return n.map((function(){return r||E})).splice(0,n.length-1)}function tn(n){var r=n.from,t=void 0===r?0:r,e=n.to,o=void 0===e?1:e,a=n.ease,i=n.offset,u=n.duration,f=void 0===u?300:u,s={done:!1,value:t},v=Array.isArray(o)?o:[t,o],c=function(n,r){return n.map((function(n){return n*r}))}(i&&i.length===v.length?i:function(n){var r=n.length;return n.map((function(n,t){return 0!==t?t/(r-1):0}))}(v),f);function p(){return z(c,v,{ease:Array.isArray(a)?a:rn(v,a)})}var d=p();return{next:function(n){return s.value=d(n),s.done=n>=f,s},flipTarget:function(){v.reverse(),d=p()}}}var en={keyframes:tn,spring:M,decay:function(n){var r=n.velocity,t=void 0===r?0:r,e=n.from,o=void 0===e?0:e,a=n.power,i=void 0===a?.8:a,u=n.timeConstant,f=void 0===u?350:u,s=n.restDelta,v=void 0===s?.5:s,c=n.modifyTarget,p={done:!1,value:o},d=i*t,l=o+d,h=void 0===c?l:c(l);return h!==l&&(d=h-o),{next:function(n){var r=-d*Math.exp(-n/f);return p.done=!(r>v||r<-v),p.value=p.done?h:h+r,p},flipTarget:function(){}}}};function on(n,r,t){return void 0===t&&(t=0),n-r-t}var an=function(n){var r=function(r){var t=r.delta;return n(t)};return{start:function(){return s.update(r,!0)},stop:function(){return v.update(r)}}};function un(t){var e,o,a,i,u,f=t.from,s=t.autoplay,v=void 0===s||s,c=t.driver,p=void 0===c?an:c,d=t.elapsed,l=void 0===d?0:d,h=t.repeat,m=void 0===h?0:h,y=t.repeatType,g=void 0===y?"loop":y,x=t.repeatDelay,b=void 0===x?0:x,w=t.onPlay,A=t.onStop,D=t.onComplete,T=t.onRepeat,j=t.onUpdate,q=n(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]),R=q.to,S=0,C=q.duration,U=!1,P=!0,F=function(n){if(Array.isArray(n.to))return tn;if(en[n.type])return en[n.type];var r=new Set(Object.keys(n));return r.has("ease")||r.has("duration")&&!r.has("dampingRatio")?tn:r.has("dampingRatio")||r.has("stiffness")||r.has("mass")||r.has("damping")||r.has("restSpeed")||r.has("restDelta")?M:tn}(q);(null===(o=(e=F).needsInterpolation)||void 0===o?void 0:o.call(e,f,R))&&(u=z([0,100],[f,R],{clamp:!1}),f=0,R=100);var O=F(r(r({},q),{from:f,to:R}));function k(){S++,"reverse"===g?l=function(n,r,t,e){return void 0===t&&(t=0),void 0===e&&(e=!0),e?on(r+-n,r,t):r-(n-r)+t}(l,C,b,P=S%2==0):(l=on(l,C,b),"mirror"===g&&O.flipTarget()),U=!1,T&&T()}function N(n){if(P||(n=-n),l+=n,!U){var r=O.next(Math.max(0,l));i=r.value,u&&(i=u(i)),U=P?r.done:l<=0}null==j||j(i),U&&(0===S&&(null!=C||(C=l)),S<m?function(n,r,t,e){return e?n>=r+t:n<=-t}(l,C,b,P)&&k():(a.stop(),D&&D()))}return v&&(null==w||w(),(a=p(N)).start()),{stop:function(){null==A||A(),a.stop()}}}function fn(n,r){return r?n*(1e3/r):0}function sn(n){var t,e=n.from,o=void 0===e?0:e,a=n.velocity,i=void 0===a?0:a,u=n.min,f=n.max,s=n.power,v=void 0===s?.8:s,p=n.timeConstant,d=void 0===p?750:p,l=n.bounceStiffness,h=void 0===l?500:l,m=n.bounceDamping,y=void 0===m?10:m,M=n.restDelta,g=void 0===M?1:M,x=n.modifyTarget,b=n.driver,w=n.onUpdate,A=n.onComplete;function D(n){return void 0!==u&&n<u||void 0!==f&&n>f}function T(n){return void 0===u?f:void 0===f||Math.abs(u-n)<Math.abs(f-n)?u:f}function j(n){null==t||t.stop(),t=un(r(r({},n),{driver:b,onUpdate:function(r){var t;null==w||w(r),null===(t=n.onUpdate)||void 0===t||t.call(n,r)},onComplete:A}))}function q(n){j(r({type:"spring",stiffness:h,damping:y,restDelta:g},n))}if(D(o))q({from:o,velocity:i,to:T(o)});else{var R=v*i+o;void 0!==x&&(R=x(R));var S,C,U=T(R),P=U===u?-1:1;j({type:"decay",from:o,velocity:i,timeConstant:d,power:v,restDelta:g,modifyTarget:x,onUpdate:D(R)?function(n){S=C,C=n,i=fn(n-S,c().delta),(1===P&&n>U||-1===P&&n<U)&&q({from:n,to:U,velocity:i})}:void 0})}return{stop:function(){return null==t?void 0:t.stop()}}}var vn=function(n){return n.hasOwnProperty("x")&&n.hasOwnProperty("y")},cn=function(n){return vn(n)&&n.hasOwnProperty("z")},pn=function(n,r){return Math.abs(n-r)};function dn(n,r){if(j(n)&&j(r))return pn(n,r);if(vn(n)&&vn(r)){var t=pn(n.x,r.x),e=pn(n.y,r.y),o=cn(n)&&cn(r)?pn(n.z,r.z):0;return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(o,2))}}var ln=function(n,r){return 1-3*r+3*n},hn=function(n,r){return 3*r-6*n},mn=function(n){return 3*n},yn=function(n,r,t){return((ln(r,t)*n+hn(r,t))*n+mn(r))*n},Mn=function(n,r,t){return 3*ln(r,t)*n*n+2*hn(r,t)*n+mn(r)};function gn(n,r,t,e){if(n===r&&t===e)return H;for(var o=new Float32Array(11),a=0;a<11;++a)o[a]=yn(.1*a,n,t);function i(r){for(var e=0,a=1;10!==a&&o[a]<=r;++a)e+=.1;--a;var i=e+.1*((r-o[a])/(o[a+1]-o[a])),u=Mn(i,n,t);return u>=.001?function(n,r,t,e){for(var o=0;o<8;++o){var a=Mn(r,t,e);if(0===a)return r;r-=(yn(r,t,e)-n)/a}return r}(r,i,n,t):0===u?i:function(n,r,t,e,o){var a,i,u=0;do{(a=yn(i=r+(t-r)/2,e,o)-n)>0?t=i:r=i}while(Math.abs(a)>1e-7&&++u<10);return i}(r,e,e+.1,n,t)}return function(n){return 0===n||1===n?n:yn(i(n),r,e)}}export{E as a,_ as b,gn as c,J as d,L as e,Q as f,K as g,V as h,X as i,W as j,Y as k,H as l,$ as m,nn as n,Z as o,R as p,sn as q,un as r,dn as s,b as t,p as u,fn as v,x as w};
