import{s as n,b as t,t as r,a as e,c as u,d as a,q as o,e as i}from"./d3-array.f6d492d3.js";import{i as c,a as l,b as f,p as s}from"./d3-interpolate.f667563f.js";import{f as p,p as h,a as g,b as m,c as d,d as y}from"./d3-format.297807b8.js";import{t as v,u as M}from"./d3-time-format.062f64a5.js";import{s as w,m as k,h as N,d as b,a as x,b as A,y as S,t as q,c as D,u as O,e as I,f as j,g as R,i as E,j as F,k as L,l as T}from"./d3-time.839af223.js";function P(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n)}return this}function _(n,t){switch(arguments.length){case 0:break;case 1:"function"==typeof n?this.interpolator(n):this.range(n);break;default:this.domain(n),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const Q=Symbol("implicit");function U(){var n=new Map,t=[],r=[],e=Q;function u(u){var a=u+"",o=n.get(a);if(!o){if(e!==Q)return e;n.set(a,o=t.push(u))}return r[(o-1)%r.length]}return u.domain=function(r){if(!arguments.length)return t.slice();t=[],n=new Map;for(const e of r){const r=e+"";n.has(r)||n.set(r,t.push(e))}return u},u.range=function(n){return arguments.length?(r=Array.from(n),u):r.slice()},u.unknown=function(n){return arguments.length?(e=n,u):e},u.copy=function(){return U(t,r).unknown(e)},P.apply(u,arguments),u}function z(){var t,r,e=U().unknown(void 0),u=e.domain,a=e.range,o=0,i=1,c=!1,l=0,f=0,s=.5;function p(){var e=u().length,p=i<o,h=p?i:o,g=p?o:i;t=(g-h)/Math.max(1,e-l+2*f),c&&(t=Math.floor(t)),h+=(g-h-t*(e-l))*s,r=t*(1-l),c&&(h=Math.round(h),r=Math.round(r));var m=n(e).map((function(n){return h+t*n}));return a(p?m.reverse():m)}return delete e.unknown,e.domain=function(n){return arguments.length?(u(n),p()):u()},e.range=function(n){return arguments.length?([o,i]=n,o=+o,i=+i,p()):[o,i]},e.rangeRound=function(n){return[o,i]=n,o=+o,i=+i,c=!0,p()},e.bandwidth=function(){return r},e.step=function(){return t},e.round=function(n){return arguments.length?(c=!!n,p()):c},e.padding=function(n){return arguments.length?(l=Math.min(1,f=+n),p()):l},e.paddingInner=function(n){return arguments.length?(l=Math.min(1,n),p()):l},e.paddingOuter=function(n){return arguments.length?(f=+n,p()):f},e.align=function(n){return arguments.length?(s=Math.max(0,Math.min(1,n)),p()):s},e.copy=function(){return z(u(),[o,i]).round(c).paddingInner(l).paddingOuter(f).align(s)},P.apply(p(),arguments)}function B(n){var t=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return B(t())},n}function C(){return B(z.apply(null,arguments).paddingInner(1))}function Y(n){return+n}var G=[0,1];function H(n){return n}function J(n,t){return(t-=n=+n)?function(r){return(r-n)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function K(n,t,r){var e=n[0],u=n[1],a=t[0],o=t[1];return u<e?(e=J(u,e),a=r(o,a)):(e=J(e,u),a=r(a,o)),function(n){return a(e(n))}}function V(n,r,e){var u=Math.min(n.length,r.length)-1,a=new Array(u),o=new Array(u),i=-1;for(n[u]<n[0]&&(n=n.slice().reverse(),r=r.slice().reverse());++i<u;)a[i]=J(n[i],n[i+1]),o[i]=e(r[i],r[i+1]);return function(r){var e=t(n,r,1,u)-1;return o[e](a[e](r))}}function W(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function X(){var n,t,r,e,u,a,o=G,i=G,s=c,p=H;function h(){var n,t,r,c=Math.min(o.length,i.length);return p!==H&&(n=o[0],t=o[c-1],n>t&&(r=n,n=t,t=r),p=function(r){return Math.max(n,Math.min(t,r))}),e=c>2?V:K,u=a=null,g}function g(t){return null==t||isNaN(t=+t)?r:(u||(u=e(o.map(n),i,s)))(n(p(t)))}return g.invert=function(r){return p(t((a||(a=e(i,o.map(n),l)))(r)))},g.domain=function(n){return arguments.length?(o=Array.from(n,Y),h()):o.slice()},g.range=function(n){return arguments.length?(i=Array.from(n),h()):i.slice()},g.rangeRound=function(n){return i=Array.from(n),s=f,h()},g.clamp=function(n){return arguments.length?(p=!!n||H,h()):p!==H},g.interpolate=function(n){return arguments.length?(s=n,h()):s},g.unknown=function(n){return arguments.length?(r=n,g):r},function(r,e){return n=r,t=e,h()}}function Z(){return X()(H,H)}function $(n,t,e,u){var a,o=r(n,t,e);switch((u=p(null==u?",f":u)).type){case"s":var i=Math.max(Math.abs(n),Math.abs(t));return null!=u.precision||isNaN(a=m(o,i))||(u.precision=a),d(u,i);case"":case"e":case"g":case"p":case"r":null!=u.precision||isNaN(a=g(o,Math.max(Math.abs(n),Math.abs(t))))||(u.precision=a-("e"===u.type));break;case"f":case"%":null!=u.precision||isNaN(a=h(o))||(u.precision=a-2*("%"===u.type))}return y(u)}function nn(n){var t=n.domain;return n.ticks=function(n){var r=t();return e(r[0],r[r.length-1],null==n?10:n)},n.tickFormat=function(n,r){var e=t();return $(e[0],e[e.length-1],null==n?10:n,r)},n.nice=function(r){null==r&&(r=10);var e,a,o=t(),i=0,c=o.length-1,l=o[i],f=o[c],s=10;for(f<l&&(a=l,l=f,f=a,a=i,i=c,c=a);s-- >0;){if((a=u(l,f,r))===e)return o[i]=l,o[c]=f,t(o);if(a>0)l=Math.floor(l/a)*a,f=Math.ceil(f/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,f=Math.floor(f*a)/a}e=a}return n},n}function tn(){var n=Z();return n.copy=function(){return W(n,tn())},P.apply(n,arguments),nn(n)}function rn(n,t){var r,e=0,u=(n=n.slice()).length-1,a=n[e],o=n[u];return o<a&&(r=e,e=u,u=r,r=a,a=o,o=r),n[e]=t.floor(a),n[u]=t.ceil(o),n}function en(n){return Math.log(n)}function un(n){return Math.exp(n)}function an(n){return-Math.log(-n)}function on(n){return-Math.exp(-n)}function cn(n){return isFinite(n)?+("1e"+n):n<0?0:n}function ln(n){return function(t){return-n(-t)}}function fn(n){var t,r,u=n(en,un),a=u.domain,o=10;function i(){return t=function(n){return n===Math.E?Math.log:10===n&&Math.log10||2===n&&Math.log2||(n=Math.log(n),function(t){return Math.log(t)/n})}(o),r=function(n){return 10===n?cn:n===Math.E?Math.exp:function(t){return Math.pow(n,t)}}(o),a()[0]<0?(t=ln(t),r=ln(r),n(an,on)):n(en,un),u}return u.base=function(n){return arguments.length?(o=+n,i()):o},u.domain=function(n){return arguments.length?(a(n),i()):a()},u.ticks=function(n){var u,i=a(),c=i[0],l=i[i.length-1];(u=l<c)&&(h=c,c=l,l=h);var f,s,p,h=t(c),g=t(l),m=null==n?10:+n,d=[];if(!(o%1)&&g-h<m){if(h=Math.floor(h),g=Math.ceil(g),c>0){for(;h<=g;++h)for(s=1,f=r(h);s<o;++s)if(!((p=f*s)<c)){if(p>l)break;d.push(p)}}else for(;h<=g;++h)for(s=o-1,f=r(h);s>=1;--s)if(!((p=f*s)<c)){if(p>l)break;d.push(p)}2*d.length<m&&(d=e(c,l,m))}else d=e(h,g,Math.min(g-h,m)).map(r);return u?d.reverse():d},u.tickFormat=function(n,e){if(null==e&&(e=10===o?".0e":","),"function"!=typeof e&&(e=y(e)),n===1/0)return e;null==n&&(n=10);var a=Math.max(1,o*n/u.ticks().length);return function(n){var u=n/r(Math.round(t(n)));return u*o<o-.5&&(u*=o),u<=a?e(n):""}},u.nice=function(){return a(rn(a(),{floor:function(n){return r(Math.floor(t(n)))},ceil:function(n){return r(Math.ceil(t(n)))}}))},u}function sn(n){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/n))}}function pn(n){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*n}}function hn(n){var t=1,r=n(sn(t),pn(t));return r.constant=function(r){return arguments.length?n(sn(t=+r),pn(t)):t},nn(r)}function gn(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function mn(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function dn(n){return n<0?-n*n:n*n}function yn(n){var t=n(H,H),r=1;function e(){return 1===r?n(H,H):.5===r?n(mn,dn):n(gn(r),gn(1/r))}return t.exponent=function(n){return arguments.length?(r=+n,e()):r},nn(t)}function vn(){var n=yn(X());return n.copy=function(){return W(n,vn()).exponent(n.exponent())},P.apply(n,arguments),n}function Mn(n){return Math.sign(n)*n*n}function wn(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function kn(n){return new Date(n)}function Nn(n){return n instanceof Date?+n:+new Date(+n)}function bn(n,t,r,e,u,a,o,i,c,l){var f=Z(),s=f.invert,p=f.domain,h=l(".%L"),g=l(":%S"),m=l("%I:%M"),d=l("%I %p"),y=l("%a %d"),v=l("%b %d"),M=l("%B"),w=l("%Y");function k(n){return(c(n)<n?h:i(n)<n?g:o(n)<n?m:a(n)<n?d:e(n)<n?u(n)<n?y:v:r(n)<n?M:w)(n)}return f.invert=function(n){return new Date(s(n))},f.domain=function(n){return arguments.length?p(Array.from(n,Nn)):p().map(kn)},f.ticks=function(t){var r=p();return n(r[0],r[r.length-1],null==t?10:t)},f.tickFormat=function(n,t){return null==t?k:l(t)},f.nice=function(n){var r=p();return n&&"function"==typeof n.range||(n=t(r[0],r[r.length-1],null==n?10:n)),n?p(rn(r,n)):f},f.copy=function(){return W(f,bn(n,t,r,e,u,a,o,i,c,l))},f}function xn(){var n,t,r,e,u,a=0,o=1,i=H,l=!1;function s(t){return null==t||isNaN(t=+t)?u:i(0===r?.5:(t=(e(t)-n)*r,l?Math.max(0,Math.min(1,t)):t))}function p(n){return function(t){var r,e;return arguments.length?([r,e]=t,i=n(r,e),s):[i(0),i(1)]}}return s.domain=function(u){return arguments.length?([a,o]=u,n=e(a=+a),t=e(o=+o),r=n===t?0:1/(t-n),s):[a,o]},s.clamp=function(n){return arguments.length?(l=!!n,s):l},s.interpolator=function(n){return arguments.length?(i=n,s):i},s.range=p(c),s.rangeRound=p(f),s.unknown=function(n){return arguments.length?(u=n,s):u},function(u){return e=u,n=u(a),t=u(o),r=n===t?0:1/(t-n),s}}function An(n,t){return t.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function Sn(){var n=yn(xn());return n.copy=function(){return An(n,Sn()).exponent(n.exponent())},_.apply(n,arguments)}function qn(){var n,t,r,e,u,a,o,i=0,l=.5,p=1,h=1,g=H,m=!1;function d(n){return isNaN(n=+n)?o:(n=.5+((n=+a(n))-t)*(h*n<h*t?e:u),g(m?Math.max(0,Math.min(1,n)):n))}function y(n){return function(t){var r,e,u;return arguments.length?([r,e,u]=t,g=s(n,[r,e,u]),d):[g(0),g(.5),g(1)]}}return d.domain=function(o){return arguments.length?([i,l,p]=o,n=a(i=+i),t=a(l=+l),r=a(p=+p),e=n===t?0:.5/(t-n),u=t===r?0:.5/(r-t),h=t<n?-1:1,d):[i,l,p]},d.clamp=function(n){return arguments.length?(m=!!n,d):m},d.interpolator=function(n){return arguments.length?(g=n,d):g},d.range=y(c),d.rangeRound=y(f),d.unknown=function(n){return arguments.length?(o=n,d):o},function(o){return a=o,n=o(i),t=o(l),r=o(p),e=n===t?0:.5/(t-n),u=t===r?0:.5/(r-t),h=t<n?-1:1,d}}function Dn(){var n=yn(qn());return n.copy=function(){return An(n,Dn()).exponent(n.exponent())},_.apply(n,arguments)}var On=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",scaleBand:z,scalePoint:C,scaleIdentity:function n(t){var r;function e(n){return null==n||isNaN(n=+n)?r:n}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=Array.from(n,Y),e):t.slice()},e.unknown=function(n){return arguments.length?(r=n,e):r},e.copy=function(){return n(t).unknown(r)},t=arguments.length?Array.from(t,Y):[0,1],nn(e)},scaleLinear:tn,scaleLog:function n(){var t=fn(X()).domain([1,10]);return t.copy=function(){return W(t,n()).base(t.base())},P.apply(t,arguments),t},scaleSymlog:function n(){var t=hn(X());return t.copy=function(){return W(t,n()).constant(t.constant())},P.apply(t,arguments)},scaleOrdinal:U,scaleImplicit:Q,scalePow:vn,scaleSqrt:function(){return vn.apply(null,arguments).exponent(.5)},scaleRadial:function n(){var t,r=Z(),e=[0,1],u=!1;function a(n){var e=wn(r(n));return isNaN(e)?t:u?Math.round(e):e}return a.invert=function(n){return r.invert(Mn(n))},a.domain=function(n){return arguments.length?(r.domain(n),a):r.domain()},a.range=function(n){return arguments.length?(r.range((e=Array.from(n,Y)).map(Mn)),a):e.slice()},a.rangeRound=function(n){return a.range(n).round(!0)},a.round=function(n){return arguments.length?(u=!!n,a):u},a.clamp=function(n){return arguments.length?(r.clamp(n),a):r.clamp()},a.unknown=function(n){return arguments.length?(t=n,a):t},a.copy=function(){return n(r.domain(),e).round(u).clamp(r.clamp()).unknown(t)},P.apply(a,arguments),nn(a)},scaleQuantile:function n(){var r,e=[],u=[],i=[];function c(){var n=0,t=Math.max(1,u.length);for(i=new Array(t-1);++n<t;)i[n-1]=o(e,n/t);return l}function l(n){return null==n||isNaN(n=+n)?r:u[t(i,n)]}return l.invertExtent=function(n){var t=u.indexOf(n);return t<0?[NaN,NaN]:[t>0?i[t-1]:e[0],t<i.length?i[t]:e[e.length-1]]},l.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let t of n)null==t||isNaN(t=+t)||e.push(t);return e.sort(a),c()},l.range=function(n){return arguments.length?(u=Array.from(n),c()):u.slice()},l.unknown=function(n){return arguments.length?(r=n,l):r},l.quantiles=function(){return i.slice()},l.copy=function(){return n().domain(e).range(u).unknown(r)},P.apply(l,arguments)},scaleQuantize:function n(){var r,e=0,u=1,a=1,o=[.5],i=[0,1];function c(n){return null!=n&&n<=n?i[t(o,n,0,a)]:r}function l(){var n=-1;for(o=new Array(a);++n<a;)o[n]=((n+1)*u-(n-a)*e)/(a+1);return c}return c.domain=function(n){return arguments.length?([e,u]=n,e=+e,u=+u,l()):[e,u]},c.range=function(n){return arguments.length?(a=(i=Array.from(n)).length-1,l()):i.slice()},c.invertExtent=function(n){var t=i.indexOf(n);return t<0?[NaN,NaN]:t<1?[e,o[0]]:t>=a?[o[a-1],u]:[o[t-1],o[t]]},c.unknown=function(n){return arguments.length?(r=n,c):c},c.thresholds=function(){return o.slice()},c.copy=function(){return n().domain([e,u]).range(i).unknown(r)},P.apply(nn(c),arguments)},scaleThreshold:function n(){var r,e=[.5],u=[0,1],a=1;function o(n){return null!=n&&n<=n?u[t(e,n,0,a)]:r}return o.domain=function(n){return arguments.length?(e=Array.from(n),a=Math.min(e.length,u.length-1),o):e.slice()},o.range=function(n){return arguments.length?(u=Array.from(n),a=Math.min(e.length,u.length-1),o):u.slice()},o.invertExtent=function(n){var t=u.indexOf(n);return[e[t-1],e[t]]},o.unknown=function(n){return arguments.length?(r=n,o):r},o.copy=function(){return n().domain(e).range(u).unknown(r)},P.apply(o,arguments)},scaleTime:function(){return P.apply(bn(D,q,S,A,x,b,N,k,w,v).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return P.apply(bn(T,L,F,E,R,j,I,O,w,M).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},scaleSequential:function n(){var t=nn(xn()(H));return t.copy=function(){return An(t,n())},_.apply(t,arguments)},scaleSequentialLog:function n(){var t=fn(xn()).domain([1,10]);return t.copy=function(){return An(t,n()).base(t.base())},_.apply(t,arguments)},scaleSequentialPow:Sn,scaleSequentialSqrt:function(){return Sn.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function n(){var t=hn(xn());return t.copy=function(){return An(t,n()).constant(t.constant())},_.apply(t,arguments)},scaleSequentialQuantile:function n(){var r=[],e=H;function u(n){if(null!=n&&!isNaN(n=+n))return e((t(r,n,1)-1)/(r.length-1))}return u.domain=function(n){if(!arguments.length)return r.slice();r=[];for(let t of n)null==t||isNaN(t=+t)||r.push(t);return r.sort(a),u},u.interpolator=function(n){return arguments.length?(e=n,u):e},u.range=function(){return r.map(((n,t)=>e(t/(r.length-1))))},u.quantiles=function(n){return Array.from({length:n+1},((t,e)=>i(r,e/n)))},u.copy=function(){return n(e).domain(r)},_.apply(u,arguments)},scaleDiverging:function n(){var t=nn(qn()(H));return t.copy=function(){return An(t,n())},_.apply(t,arguments)},scaleDivergingLog:function n(){var t=fn(qn()).domain([.1,1,10]);return t.copy=function(){return An(t,n()).base(t.base())},_.apply(t,arguments)},scaleDivergingPow:Dn,scaleDivergingSqrt:function(){return Dn.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function n(){var t=hn(qn());return t.copy=function(){return An(t,n()).constant(t.constant())},_.apply(t,arguments)},tickFormat:$});export{z as b,On as d,tn as l,C as p};
